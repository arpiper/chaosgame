!function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var t={};__webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="./dist/",__webpack_require__(__webpack_require__.s=1)}([function(e,t,n){"use strict";function data(){return{height:0,width:0,ctx:void 0,vertices:3,runtime:1e3,points:[{x:0,y:-200},{x:-225,y:150},{x:225,y:150}],point:{x:0,y:0},intervalID:0,counter:0,animate:!0,showAxis:!0,rule:.5,method:"midpoint",selection:void 0}}function indexToAlpha(e){return String.fromCharCode(65+e)}function formatNum(e,t){return e.toPrecision(t)}function oncreate(){var e=document.getElementById("chaos"),t=e.getContext("2d"),n=document.getElementById("canvas-container");e.height=.8*n.offsetHeight,e.width=.8*n.offsetWidth,"none"!==window.getComputedStyle(document.querySelector(".show-menu")).display&&(e.height=n.offsetHeight-40,e.width=n.offsetWidth);var r=this.get("points");r.forEach(function(t,n){(t.x>e.width/2||t.x<-e.width/2)&&(r[n].x=e.width/4*(t.x/Math.abs(t.x))),(t.y>e.height/2||t.y<-e.height/2)&&(r[n].y=e.height/4*(t.y/Math.abs(t.y)))}),t.translate(e.width/2,e.height/2),this.set({height:e.height,width:e.width,ctx:t,points:r}),this.get("showAxis")&&this.drawAxis(),this.drawShape()}function ondestroy(){}function encapsulateStyles(e){(0,r.setAttribute)(e,"svelte-3515759473","")}function add_css(){var e=(0,r.createElement)("style");e.id="svelte-3515759473-style",e.textContent='[svelte-3515759473]#canvas-container,[svelte-3515759473] #canvas-container{width:100%;height:100%;display:flex;align-items:center;justify-content:stretch}[svelte-3515759473]#chaos,[svelte-3515759473] #chaos{display:block}[svelte-3515759473].user-inputs,[svelte-3515759473] .user-inputs{flex:0 1 20%;margin:0 auto;display:flex;flex-direction:column;justify-items:center;padding:5px}[svelte-3515759473].user-inputs div,[svelte-3515759473] .user-inputs div{text-align:center;margin:5px 0}[svelte-3515759473].vertex,[svelte-3515759473] .vertex{display:flex;align-items:center;justify-content:space-evenly}[svelte-3515759473].coord,[svelte-3515759473] .coord{flex:0 1 40%;width:40%\n}[svelte-3515759473].show-menu,[svelte-3515759473] .show-menu{display:none}@media screen and (max-width: 720px){[svelte-3515759473]#canvas-container,[svelte-3515759473] #canvas-container{flex-direction:column}[svelte-3515759473]#chaos,[svelte-3515759473] #chaos{flex:1 0 calc(100% - 40px)}[svelte-3515759473].user-inputs,[svelte-3515759473] .user-inputs{position:absolute;top:40px;background-color:#dedede;left:-110%;transition:left 1s;height:100%;flex:1 0 90%\n  }[svelte-3515759473].show-menu,[svelte-3515759473] .show-menu{display:flex;background-color:#dedede;padding:5px;width:100%;flex:1 0 40px;align-items:center;justify-content:flex-start}[svelte-3515759473].show-menu > input[name="go"],[svelte-3515759473] .show-menu > input[name="go"]{margin-left:auto}}',(0,r.appendNode)(e,document.head)}function create_main_fragment(e,t){function click_handler(e){t.showMenu()}function click_handler_1(e){t.runChaosGame()}function click_handler_2(e){t.stopChaosGame()}function click_handler_3(e){t.drawShape()}function select_change_handler(){Pe=!0,t.set({vertices:(0,r.selectValue)(g)}),Pe=!1}function change_handler(e){t.updateVertices(g.value)}function input_3_input_handler(){Me=!0,t.set({runtime:(0,r.toNumber)(G.value)}),Me=!1}function input_4_input_handler(){t.set({rule:(0,r.toNumber)(Y.value)})}function input_4_change_handler(){t.set({rule:(0,r.toNumber)(Y.value)})}function change_handler_1(e){t.showAxis("showAxis")}function change_handler_2(e){t.animate()}function input_7_change_handler(){t.set({method:re.__value})}function input_8_change_handler(){t.set({method:ce.__value})}function click_handler_4(e){t.runChaosGame()}function click_handler_5(e){t.stopChaosGame()}function click_handler_6(e){t.drawShape()}function click_handler_7(e){t.stepThrough()}function touchstart_handler(e){t.selectVertex(e)}function mousedown_handler(e){t.selectVertex(e)}function mouseup_handler(e){t.moveVertex(e)}for(var n,i,o,a,s,c,d,u,l,h,p,f,_,v,m,g,x,y,b,N,w,k,E,T,L,S,C,A,P,M,O,V,D,R,G,j,q,B,F,I,X,Y,H,U,W,z,J,K,Q,Z,$,ee,te,ne,re,ie,oe,ae,se,ce,de,ue,le,he,pe,fe,_e,ve,me,ge,xe,ye,be,Ne,we,ke,Ee,Te,Le,Se,Ce,Ae,Pe=!1,Me=!1,Oe=formatNum(e.rule,2),Ve=e.points,De=[],Re=0;Re<Ve.length;Re+=1)De[Re]=create_each_block(e,Ve,Ve[Re],Re,t);return{c:function(){n=(0,r.createElement)("div"),i=(0,r.createElement)("div"),o=(0,r.createElement)("span"),o.textContent="Menu",a=(0,r.createText)("\n    "),s=(0,r.createElement)("input"),c=(0,r.createText)("\n    "),d=(0,r.createElement)("input"),u=(0,r.createText)("\n    "),l=(0,r.createElement)("input"),h=(0,r.createText)("\n  "),p=(0,r.createElement)("div"),f=(0,r.createElement)("div"),_=(0,r.createElement)("div"),v=(0,r.createElement)("label"),v.textContent="Vertices:",m=(0,r.createText)("\n        "),g=(0,r.createElement)("select"),x=(0,r.createElement)("option"),y=(0,r.createText)("3"),b=(0,r.createElement)("option"),N=(0,r.createText)("4"),w=(0,r.createElement)("option"),k=(0,r.createText)("5"),E=(0,r.createElement)("option"),T=(0,r.createText)("6"),L=(0,r.createElement)("option"),S=(0,r.createText)("7"),C=(0,r.createElement)("option"),A=(0,r.createText)("8"),P=(0,r.createElement)("option"),M=(0,r.createText)("9"),O=(0,r.createText)("\n      "),V=(0,r.createElement)("div"),D=(0,r.createElement)("label"),D.textContent="Iterations:",R=(0,r.createText)("\n        "),G=(0,r.createElement)("input"),j=(0,r.createText)("\n      "),q=(0,r.createElement)("div"),B=(0,r.createElement)("label"),F=(0,r.createText)("Proportion:"),I=(0,r.createText)(Oe),X=(0,r.createText)("\n        "),Y=(0,r.createElement)("input"),H=(0,r.createText)("\n      "),U=(0,r.createElement)("div"),W=(0,r.createElement)("input"),z=(0,r.createText)("\n        "),J=(0,r.createElement)("label"),J.textContent="Show Axis",K=(0,r.createElement)("br"),Q=(0,r.createText)("\n        "),Z=(0,r.createElement)("input"),$=(0,r.createText)("\n        "),ee=(0,r.createElement)("label"),ee.textContent="Animate",te=(0,r.createElement)("br"),ne=(0,r.createText)("\n        "),re=(0,r.createElement)("input"),ie=(0,r.createText)("\n        "),oe=(0,r.createElement)("label"),oe.textContent="Method 1",ae=(0,r.createElement)("br"),se=(0,r.createText)("\n        "),ce=(0,r.createElement)("input"),de=(0,r.createText)("\n        "),ue=(0,r.createElement)("label"),ue.textContent="Method 2",le=(0,r.createElement)("br"),he=(0,r.createText)("\n      "),pe=(0,r.createElement)("div"),fe=(0,r.createElement)("input"),_e=(0,r.createText)("\n        "),ve=(0,r.createElement)("input"),me=(0,r.createText)("\n        "),ge=(0,r.createElement)("input"),xe=(0,r.createText)("\n        "),ye=(0,r.createElement)("input"),be=(0,r.createText)("\n\n    "),Ne=(0,r.createElement)("div"),we=(0,r.createElement)("div"),we.innerHTML='<span class="coord">X</span>\n        <span class="coord">Y</span>',ke=(0,r.createText)("\n      ");for(var t=0;t<De.length;t+=1)De[t].c();Ee=(0,r.createText)("\n    "),Te=(0,r.createElement)("span"),Le=(0,r.createText)("Iterations: "),Se=(0,r.createText)(e.counter),Ce=(0,r.createText)("\n  "),Ae=(0,r.createElement)("canvas"),this.h()},h:function(){encapsulateStyles(n),(0,r.addListener)(o,"click",click_handler),s.type="button",s.name="go",s.value="Go",(0,r.addListener)(s,"click",click_handler_1),d.type="button",d.value="Stop",(0,r.addListener)(d,"click",click_handler_2),l.type="button",l.value="Clear",(0,r.addListener)(l,"click",click_handler_3),i.className="show-menu",v.htmlFor="#vertices",x.__value="3",x.value=x.__value,b.__value="4",b.value=b.__value,w.__value="5",w.value=w.__value,E.__value="6",E.value=E.__value,L.__value="7",L.value=L.__value,C.__value="8",C.value=C.__value,P.__value="9",P.value=P.__value,(0,r.addListener)(g,"change",select_change_handler),"vertices"in e||t.root._beforecreate.push(select_change_handler),g.name="vertices",g.id="vertices",(0,r.addListener)(g,"change",change_handler),D.htmlFor="runtime",(0,r.addListener)(G,"input",input_3_input_handler),G.id="runtime",G.type="number",G.name="runtime",B.htmlFor="rule",(0,r.addListener)(Y,"input",input_4_input_handler),(0,r.addListener)(Y,"change",input_4_change_handler),Y.id="rule",Y.type="range",Y.min="0",Y.max="1",Y.step="0.01",W.type="checkbox",W.checked=!0,W.id="showAxis",W.name="showAxis",(0,r.addListener)(W,"change",change_handler_1),J.htmlFor="showAxis",Z.type="checkbox",Z.checked=!0,Z.id="animate",Z.name="animate",(0,r.addListener)(Z,"change",change_handler_2),ee.htmlFor="animate",t._bindingGroups[0].push(re),(0,r.addListener)(re,"change",input_7_change_handler),re.id="midpoint",re.type="radio",re.name="midpoint",re.__value="midpoint",re.value=re.__value,oe.htmlFor="midpoint",t._bindingGroups[0].push(ce),(0,r.addListener)(ce,"change",input_8_change_handler),ce.id="endpoint",ce.type="radio",ce.name="endpoint",ce.__value="endpoint",ce.value=ce.__value,ue.htmlFor="endpoint",fe.type="button",fe.value="Go",(0,r.addListener)(fe,"click",click_handler_4),ve.type="button",ve.value="Stop",(0,r.addListener)(ve,"click",click_handler_5),ge.type="button",ge.value="Clear",(0,r.addListener)(ge,"click",click_handler_6),ye.type="button",ye.value="Step",(0,r.addListener)(ye,"click",click_handler_7),f.className="variables",we.className="vertex",Ne.className="vertices",p.className="user-inputs",Ae.id="chaos",(0,r.addListener)(Ae,"touchstart",touchstart_handler),(0,r.addListener)(Ae,"mousedown",mousedown_handler),(0,r.addListener)(Ae,"mouseup",mouseup_handler),n.id="canvas-container"},m:function(Pe,Me){(0,r.insertNode)(n,Pe,Me),(0,r.appendNode)(i,n),(0,r.appendNode)(o,i),(0,r.appendNode)(a,i),(0,r.appendNode)(s,i),(0,r.appendNode)(c,i),(0,r.appendNode)(d,i),(0,r.appendNode)(u,i),(0,r.appendNode)(l,i),(0,r.appendNode)(h,n),(0,r.appendNode)(p,n),(0,r.appendNode)(f,p),(0,r.appendNode)(_,f),(0,r.appendNode)(v,_),(0,r.appendNode)(m,_),(0,r.appendNode)(g,_),(0,r.appendNode)(x,g),(0,r.appendNode)(y,x),(0,r.appendNode)(b,g),(0,r.appendNode)(N,b),(0,r.appendNode)(w,g),(0,r.appendNode)(k,w),(0,r.appendNode)(E,g),(0,r.appendNode)(T,E),(0,r.appendNode)(L,g),(0,r.appendNode)(S,L),(0,r.appendNode)(C,g),(0,r.appendNode)(A,C),(0,r.appendNode)(P,g),(0,r.appendNode)(M,P),(0,r.selectOption)(g,e.vertices),(0,r.appendNode)(O,f),(0,r.appendNode)(V,f),(0,r.appendNode)(D,V),(0,r.appendNode)(R,V),(0,r.appendNode)(G,V),G.value=e.runtime,(0,r.appendNode)(j,f),(0,r.appendNode)(q,f),(0,r.appendNode)(B,q),(0,r.appendNode)(F,B),(0,r.appendNode)(I,B),(0,r.appendNode)(X,q),(0,r.appendNode)(Y,q),Y.value=e.rule,(0,r.appendNode)(H,f),(0,r.appendNode)(U,f),(0,r.appendNode)(W,U),(0,r.appendNode)(z,U),(0,r.appendNode)(J,U),(0,r.appendNode)(K,U),(0,r.appendNode)(Q,U),(0,r.appendNode)(Z,U),(0,r.appendNode)($,U),(0,r.appendNode)(ee,U),(0,r.appendNode)(te,U),(0,r.appendNode)(ne,U),(0,r.appendNode)(re,U),re.checked=re.__value===e.method,(0,r.appendNode)(ie,U),(0,r.appendNode)(oe,U),(0,r.appendNode)(ae,U),(0,r.appendNode)(se,U),(0,r.appendNode)(ce,U),ce.checked=ce.__value===e.method,(0,r.appendNode)(de,U),(0,r.appendNode)(ue,U),(0,r.appendNode)(le,U),(0,r.appendNode)(he,f),(0,r.appendNode)(pe,f),(0,r.appendNode)(fe,pe),(0,r.appendNode)(_e,pe),(0,r.appendNode)(ve,pe),(0,r.appendNode)(me,pe),(0,r.appendNode)(ge,pe),(0,r.appendNode)(xe,pe),(0,r.appendNode)(ye,pe),(0,r.appendNode)(be,p),(0,r.appendNode)(Ne,p),(0,r.appendNode)(we,Ne),(0,r.appendNode)(ke,Ne);for(var Oe=0;Oe<De.length;Oe+=1)De[Oe].m(Ne,null);(0,r.appendNode)(Ee,p),(0,r.appendNode)(Te,p),(0,r.appendNode)(Le,Te),(0,r.appendNode)(Se,Te),t.refs.menu=p,(0,r.appendNode)(Ce,n),(0,r.appendNode)(Ae,n)},p:function(e,n){Pe||(0,r.selectOption)(g,n.vertices),Me||(G.value=n.runtime),e.rule&&Oe!==(Oe=formatNum(n.rule,2))&&(I.data=Oe),Y.value=n.rule,Y.value=n.rule,re.checked=re.__value===n.method,ce.checked=ce.__value===n.method;var i=n.points;if(e.points){for(var o=0;o<i.length;o+=1)De[o]?De[o].p(e,n,i,i[o],o):(De[o]=create_each_block(n,i,i[o],o,t),De[o].c(),De[o].m(Ne,null));for(;o<De.length;o+=1)De[o].u(),De[o].d();De.length=i.length}e.counter&&(Se.data=n.counter)},u:function(){(0,r.detachNode)(n);for(var e=0;e<De.length;e+=1)De[e].u()},d:function(){(0,r.removeListener)(o,"click",click_handler),(0,r.removeListener)(s,"click",click_handler_1),(0,r.removeListener)(d,"click",click_handler_2),(0,r.removeListener)(l,"click",click_handler_3),(0,r.removeListener)(g,"change",select_change_handler),(0,r.removeListener)(g,"change",change_handler),(0,r.removeListener)(G,"input",input_3_input_handler),(0,r.removeListener)(Y,"input",input_4_input_handler),(0,r.removeListener)(Y,"change",input_4_change_handler),(0,r.removeListener)(W,"change",change_handler_1),(0,r.removeListener)(Z,"change",change_handler_2),t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(re),1),(0,r.removeListener)(re,"change",input_7_change_handler),t._bindingGroups[0].splice(t._bindingGroups[0].indexOf(ce),1),(0,r.removeListener)(ce,"change",input_8_change_handler),(0,r.removeListener)(fe,"click",click_handler_4),(0,r.removeListener)(ve,"click",click_handler_5),(0,r.removeListener)(ge,"click",click_handler_6),(0,r.removeListener)(ye,"click",click_handler_7),(0,r.destroyEach)(De),t.refs.menu===p&&(t.refs.menu=null),(0,r.removeListener)(Ae,"touchstart",touchstart_handler),(0,r.removeListener)(Ae,"mousedown",mousedown_handler),(0,r.removeListener)(Ae,"mouseup",mouseup_handler)}}}function create_each_block(e,t,n,i,o){function input_input_handler(){var e=l._svelte,t=o.get();m=!0,e.points[e.i].x=(0,r.toNumber)(l.value),o.set({points:t.points}),m=!1}function input_1_input_handler(){var e=f._svelte,t=o.get();g=!0,e.points[e.i].y=(0,r.toNumber)(f.value),o.set({points:t.points}),g=!1}var a,s,c,d,u,l,h,p,f,_,v=indexToAlpha(i),m=!1,g=!1;return{c:function(){a=(0,r.createElement)("div"),s=(0,r.createElement)("span"),c=(0,r.createText)(v),d=(0,r.createText)(":"),u=(0,r.createText)("\n          "),l=(0,r.createElement)("input"),p=(0,r.createText)("\n          "),f=(0,r.createElement)("input"),this.h()},h:function(){s.className="label",(0,r.addListener)(l,"input",input_input_handler),l.type="number",l.className="coord",l.id=h="point-"+i+"-x",(0,r.addListener)(l,"change",change_handler),l._svelte={component:o,points:t,i:i},(0,r.addListener)(f,"input",input_1_input_handler),f.type="number",f.className="coord",f.id=_="point-"+i+"-y",(0,r.addListener)(f,"change",change_handler_1),f._svelte={component:o,points:t,i:i},a.className="vertex"},m:function(e,t){(0,r.insertNode)(a,e,t),(0,r.appendNode)(s,a),(0,r.appendNode)(c,s),(0,r.appendNode)(d,s),(0,r.appendNode)(u,a),(0,r.appendNode)(l,a),l.value=n.x,(0,r.appendNode)(p,a),(0,r.appendNode)(f,a),f.value=n.y},p:function(e,t,n,r,i){m||(l.value=r.x),l._svelte.points=n,l._svelte.i=i,g||(f.value=r.y),f._svelte.points=n,f._svelte.i=i},u:function(){(0,r.detachNode)(a)},d:function(){(0,r.removeListener)(l,"input",input_input_handler),(0,r.removeListener)(l,"change",change_handler),(0,r.removeListener)(f,"input",input_1_input_handler),(0,r.removeListener)(f,"change",change_handler_1)}}}function change_handler(e){this._svelte.component.drawShape()}function change_handler_1(e){this._svelte.component.drawShape()}function ChaosGame(e){(0,r.init)(this,e),this.refs={},this._state=(0,r.assign)(data(),e.data),this._bindingGroups=[[]],this._handlers.destroy=[ondestroy],document.getElementById("svelte-3515759473-style")||add_css();var t=oncreate.bind(this);e.root?this.root._oncreate.push(t):(this._oncreate=[t],this._beforecreate=[]),this._fragment=create_main_fragment(this._state,this),e.target&&(this._fragment.c(),this._fragment.m(e.target,e.anchor||null),(0,r.callAll)(this._beforecreate),(0,r.callAll)(this._oncreate))}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i={showMenu:function(){""===this.refs.menu.style.left||"-110%"===this.refs.menu.style.left?this.refs.menu.style.left="0":this.refs.menu.style.left="-110%"},animate:function(){var e=this.get("animate");this.set({animate:!e})},showAxis:function(){var e=this.get("showAxis");this.set({showAxis:!e}),this.drawShape()},updateVertices:function(e){this.clearCanvas();var t=this.get("points"),n=e-t.length;if(n>0)for(var r=0;r<n;r++)t.push({x:10*e,y:10*e});else n<0&&t.splice(n,Math.abs(n));this.set({points:t}),this.drawShape()},chooseStart:function(){var e=void 0,t=void 0,n=void 0;this.get("ctx"),e=Math.floor(Math.random()*this.get("width")),t=Math.floor(Math.random()*this.get("height")),n={x:e,y:t},this.set({point:n}),this.drawPoint(n,2)},chooseVertex:function(){var e=this.get("vertices"),t=Math.floor(Math.random()*e);return this.get("points")[t]},getMidPoint:function(e,t){var n=this.get("rule"),r=(e.x+t.x)*n,i=(e.y+t.y)*n;return this.set({point:{x:r,y:i}}),{x:r,y:i}},getDistance:function(e,t){var n=Math.pow(e.x-t.x,2),r=Math.pow(e.y-t.y,2),i=n+r;return Math.sqrt(i)},getPoint:function(e,t){var n=void 0,r=void 0,i=void 0;return i=this.get("rule"),n=e.x-t.x,r=e.y-t.y,{x:e.x-n*(1-i),y:e.y-r*(1-i)}},drawPoint:function(e,t,n){var r=this.get("ctx");void 0!==n&&(r.fillStyle=n,r.strokeSyle=n),r.beginPath(),r.arc(e.x,e.y,t,0,2*Math.PI),r.fill()},drawShape:function(){var e=this;this.clearCanvas(),this.get("points").forEach(function(t,n,r){e.drawPoint(t,5,"#f00"),e.labelPoint({x:t.x+5,y:t.y+5},String.fromCharCode(65+n))})},drawAxis:function(){var e=this.get("ctx"),t=this.get("width"),n=this.get("height");e.beginPath(),e.moveTo(-t/2,0),e.lineTo(t/2,0),e.moveTo(0,-n/2),e.lineTo(0,n/2),this.labelPoint({x:0,y:n-5},"(0,"+n+")"),this.labelPoint({x:t-50,y:15},"("+t+",0)"),e.stroke()},labelPoint:function(e,t){var n=this.get("ctx");n.font="14px arial",n.fillStyle="#f00",n.strokeStyle="#f00",n.strokeText(t,e.x,e.y),n.fillStyle="#000",n.strokeStyle="#000"},runChaosGame:function(){var e=this;if(this.clearCanvas(),this.drawShape(),this.chooseStart(),this.get("animate")){var t=void 0,n=void 0,r=void 0,i=void 0;t=0,n=this.get("runtime"),r=this.get("method"),i=window.setInterval(function(){var o=void 0,a=void 0,s=void 0;o=e.get("point"),a=e.chooseVertex(),"midpoint"===r?s=e.getMidPoint(o,a):"endpoint"===r&&(s=e.getPoint(o,a)),e.drawPoint(s,2),t++,e.set({counter:t,point:s}),t===n&&window.clearInterval(i)},25),this.set({intervalID:i})}else this.loopPoints(this.get("runtime"))},stepThrough:function(){var e=void 0,t=void 0,n=void 0,r=void 0;e=this.get("point"),t=this.chooseVertex(),n=this.getMidPoint(e,t),this.drawPoint(n,2,"#0d0"),r=this.getPoint(e,t),this.drawPoint(r,2,"#0f0"),this.set({point:r})},test:function(){var e=void 0,t=void 0,n=void 0;e=this.get("point");for(var r=0;r<this.get("runtime");r++)t=this.chooseVertex(),n=this.getPoint(e,t),this.drawPoint(n,3,"#0d0"),e=n,this.set({point:n})},clearCanvas:function(){var e=this.get("height"),t=this.get("width");this.get("ctx").clearRect(-t/2,-e/2,t,e),this.set({point:{x:0,y:0}}),this.get("showAxis")&&this.drawAxis()},stopChaosGame:function(){window.clearInterval(this.get("intervalID"))},loopPoints:function(e){var t=void 0,n=void 0,r=void 0,i=void 0;i=this.get("method"),t=this.get("point");for(var o=0;o<e;o++)n=this.chooseVertex(),"midpoint"===i?r=this.getMidPoint(t,n):"endpoint"===i&&(r=this.getPoint(t,n)),this.drawPoint(r,2),t=r,this.set({point:t})},selectVertex:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=this.get("height"),r=this.get("width"),i=this.get("points"),o={x:0,y:0};"touchstart"===e.type?(o.x=e.touches[0].pageX-e.touches[0].target.offsetLeft-r/2,o.y=e.touches[0].pageY-e.touches[0].target.offsetTop-n/2):(o.x=e.offsetX-r/2,o.y=e.offsetY-n/2),i.forEach(function(n,r){if(n.x-5<=o.x&&n.x+5>=o.x&&n.y-5<=o.y&&n.y+5>o.y){t.set({selection:r});var i=t;"touchstart"===e.type?document.addEventListener("touchmove",function(e){i.dragVertex(e)}):document.addEventListener("mousemove",function(e){i.dragVertex(e)})}})},moveVertex:function(e){e.preventDefault(),e.stopPropagation();var t=this.get("selection");if(void 0!==t){var n=this.get("height"),r=this.get("width"),i=this.get("points"),o={x:0,y:0};"touchend"===e.type?(o.x=e.touches[0].pageX-e.touches[0].target.offsetLeft-r/2,o.y=e.touches[0].pageY-e.touches[0].target.offsetTop-n/2):(o.x=e.offsetX-r/2,o.y=e.offsetY-n/2),i[t]=o,this.set({points:i,selection:void 0}),this.drawShape(),document.removeEventListener("mousemove",function(e){this.dragVertex(e)})}},dragVertex:function(e){var t=this.get("selection");if(void 0!==t){var n=this.get("points"),r=this.get("width"),i=this.get("height");"touchmove"===e.type?(n[t].x=e.touches[0].pageX-e.touches[0].target.offsetLeft-r/2,n[t].y=e.touches[0].pageY-e.touches[0].target.offsetTop-i/2):(n[t].x=e.offsetX-r/2,n[t].y=e.offsetY-i/2),this.set({points:n}),this.drawShape()}}};(0,r.assign)(ChaosGame.prototype,i,r.proto),t.default=ChaosGame},function(e,t,n){"use strict";var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r);new i.default({target:document.querySelector(".math-chaosgame")})},function(e,t,n){"use strict";function noop(){}function assign(e){for(var t,n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(t in n)e[t]=n[t]}return e}function appendNode(e,t){t.appendChild(e)}function insertNode(e,t,n){t.insertBefore(e,n)}function detachNode(e){e.parentNode.removeChild(e)}function detachBetween(e,t){for(;e.nextSibling&&e.nextSibling!==t;)e.parentNode.removeChild(e.nextSibling)}function detachBefore(e){for(;e.previousSibling;)e.parentNode.removeChild(e.previousSibling)}function detachAfter(e){for(;e.nextSibling;)e.parentNode.removeChild(e.nextSibling)}function reinsertBetween(e,t,n){for(;e.nextSibling&&e.nextSibling!==t;)n.appendChild(e.parentNode.removeChild(e.nextSibling))}function reinsertChildren(e,t){for(;e.firstChild;)t.appendChild(e.firstChild)}function reinsertAfter(e,t){for(;e.nextSibling;)t.appendChild(e.nextSibling)}function reinsertBefore(e,t){for(var n=e.parentNode;n.firstChild!==e;)t.appendChild(n.firstChild)}function destroyEach(e){for(var t=0;t<e.length;t+=1)e[t]&&e[t].d()}function createFragment(){return document.createDocumentFragment()}function createElement(e){return document.createElement(e)}function createSvgElement(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function createText(e){return document.createTextNode(e)}function createComment(){return document.createComment("")}function addListener(e,t,n){e.addEventListener(t,n,!1)}function removeListener(e,t,n){e.removeEventListener(t,n,!1)}function setAttribute(e,t,n){e.setAttribute(t,n)}function setXlinkAttribute(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function getBindingGroupValue(e){for(var t=[],n=0;n<e.length;n+=1)e[n].checked&&t.push(e[n].__value);return t}function toNumber(e){return""===e?void 0:+e}function timeRangesToArray(e){for(var t=[],n=0;n<e.length;n+=1)t.push({start:e.start(n),end:e.end(n)});return t}function children(e){return Array.from(e.childNodes)}function claimElement(e,t,n,r){for(var i=0;i<e.length;i+=1){var o=e[i];if(o.nodeName===t){for(var a=0;a<o.attributes.length;a+=1){var s=o.attributes[a];n[s.name]||o.removeAttribute(s.name)}return e.splice(i,1)[0]}}return r?createSvgElement(t):createElement(t)}function claimText(e,t){for(var n=0;n<e.length;n+=1){var r=e[n];if(3===r.nodeType)return r.data=t,e.splice(n,1)[0]}return createText(t)}function setInputType(e,t){try{e.type=t}catch(e){}}function setStyle(e,t,n){e.style.setProperty(t,n)}function selectOption(e,t){for(var n=0;n<e.options.length;n+=1){var r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function selectOptions(e,t){for(var n=0;n<e.options.length;n+=1){var r=e.options[n];r.selected=~t.indexOf(r.__value)}}function selectValue(e){var t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function selectMultipleValue(e){return[].map.call(e.querySelectorAll(":checked"),function(e){return e.__value})}function linear(e){return e}function generateRule(e,t,n,r,i,o){for(var a="{\n",s=0;s<=1;s+=16.666/r){a+=100*s+"%{"+o(e+n*i(s))+"}\n"}return a+"100% {"+o(t)+"}\n}"}function hash(e){for(var t=5381,n=e.length;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function wrapTransition(e,t,n,i,o,a){var s,c=n(t,i),d=c.duration||300,u=c.easing||linear;if(c.css&&!r.stylesheet){var l=createElement("style");document.head.appendChild(l),r.stylesheet=l.sheet}return o&&(c.css&&c.delay&&(s=t.style.cssText,t.style.cssText+=c.css(0)),c.tick&&c.tick(0)),{t:o?0:1,running:!1,program:null,pending:null,run:function(e,t){var n={start:window.performance.now()+(c.delay||0),intro:e,callback:t};c.delay?this.pending=n:this.start(n),this.running||(this.running=!0,r.add(this))},start:function(n){e.fire(n.intro?"intro.start":"outro.start",{node:t}),n.a=this.t,n.b=n.intro?1:0,n.delta=n.b-n.a,n.duration=d*Math.abs(n.b-n.a),n.end=n.start+n.duration,c.css&&(c.delay&&(t.style.cssText=s),n.rule=generateRule(n.a,n.b,n.delta,n.duration,u,c.css),r.addRule(n.rule,n.name="__svelte_"+hash(n.rule)),t.style.animation=(t.style.animation||"").split(", ").filter(function(e){return e&&(n.delta<0||!/__svelte/.test(e))}).concat(n.name+" "+d+"ms linear 1 forwards").join(", ")),this.program=n,this.pending=null},update:function(e){var t=this.program;if(t){var n=e-t.start;this.t=t.a+t.delta*u(n/t.duration),c.tick&&c.tick(this.t)}},done:function(){var e=this.program;this.t=e.b,c.tick&&c.tick(this.t),c.css&&r.deleteRule(t,e.name),e.callback(),e=null,this.running=!!this.pending},abort:function(){c.tick&&c.tick(1),c.css&&r.deleteRule(t,this.program.name),this.program=this.pending=null,this.running=!1}}}function blankObject(){return Object.create(null)}function destroy(e){this.destroy=noop,this.fire("destroy"),this.set=this.get=noop,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function destroyDev(e){destroy.call(this,e),this.destroy=function(){console.warn("Component was already destroyed")}}function differs(e,t){return e!==t||e&&"object"==typeof e||"function"==typeof e}function dispatchObservers(e,t,n,r,i){for(var o in t)if(n[o]){var a=r[o],s=i[o],c=t[o];if(c)for(var d=0;d<c.length;d+=1){var u=c[d];u.__calling||(u.__calling=!0,u.call(e,a,s),u.__calling=!1)}}}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var r=0;r<n.length;r+=1)n[r].call(this,t)}function get(e){return e?this._state[e]:this._state}function init(e,t){e._observers={pre:blankObject(),post:blankObject()},e._handlers=blankObject(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function observe(e,t,n){var r=n&&n.defer?this._observers.post:this._observers.pre;return(r[e]||(r[e]=[])).push(t),n&&!1===n.init||(t.__calling=!0,t.call(this,this._state[e]),t.__calling=!1),{cancel:function(){var n=r[e].indexOf(t);~n&&r[e].splice(n,1)}}}function observeDev(e,t,n){var r=(e=""+e).search(/[^\w]/);if(r>-1){var i="The first argument to component.observe(...) must be the name of a top-level property";throw r>0&&(i+=", i.e. '"+e.slice(0,r)+"' rather than '"+e+"'"),new Error(i)}return observe.call(this,e,t,n)}function on(e,t){if("teardown"===e)return this.on("destroy",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function onDev(e,t){return"teardown"===e?(console.warn("Use component.on('destroy', ...) instead of component.on('teardown', ...) which has been deprecated and will be unsupported in Svelte 2"),this.on("destroy",t)):on.call(this,e,t)}function set(e){this._set(assign({},e)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(e){var t=this._state,n={},r=!1;for(var i in e)differs(e[i],t[i])&&(n[i]=r=!0);r&&(this._state=assign({},t,e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(dispatchObservers(this,this._observers.pre,n,this._state,t),this._fragment.p(n,this._state),dispatchObservers(this,this._observers.post,n,this._state,t)))}function setDev(e){if("object"!=typeof e)throw new Error(this._debugName+".set was called without an object of data key-values to update.");this._checkReadOnly(e),set.call(this,e)}function callAll(e){for(;e&&e.length;)e.pop()()}function _mount(e,t){this._fragment.m(e,t)}function _unmount(){this._fragment&&this._fragment.u()}function isPromise(e){return e&&"function"==typeof e.then}function removeFromStore(){this.store._remove(this)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"blankObject",function(){return blankObject}),n.d(t,"destroy",function(){return destroy}),n.d(t,"destroyDev",function(){return destroyDev}),n.d(t,"differs",function(){return differs}),n.d(t,"dispatchObservers",function(){return dispatchObservers}),n.d(t,"fire",function(){return fire}),n.d(t,"get",function(){return get}),n.d(t,"init",function(){return init}),n.d(t,"observe",function(){return observe}),n.d(t,"observeDev",function(){return observeDev}),n.d(t,"on",function(){return on}),n.d(t,"onDev",function(){return onDev}),n.d(t,"set",function(){return set}),n.d(t,"_set",function(){return _set}),n.d(t,"setDev",function(){return setDev}),n.d(t,"callAll",function(){return callAll}),n.d(t,"_mount",function(){return _mount}),n.d(t,"_unmount",function(){return _unmount}),n.d(t,"isPromise",function(){return isPromise}),n.d(t,"PENDING",function(){return i}),n.d(t,"SUCCESS",function(){return o}),n.d(t,"FAILURE",function(){return a}),n.d(t,"removeFromStore",function(){return removeFromStore}),n.d(t,"proto",function(){return s}),n.d(t,"protoDev",function(){return c}),n.d(t,"appendNode",function(){return appendNode}),n.d(t,"insertNode",function(){return insertNode}),n.d(t,"detachNode",function(){return detachNode}),n.d(t,"detachBetween",function(){return detachBetween}),n.d(t,"detachBefore",function(){return detachBefore}),n.d(t,"detachAfter",function(){return detachAfter}),n.d(t,"reinsertBetween",function(){return reinsertBetween}),n.d(t,"reinsertChildren",function(){return reinsertChildren}),n.d(t,"reinsertAfter",function(){return reinsertAfter}),n.d(t,"reinsertBefore",function(){return reinsertBefore}),n.d(t,"destroyEach",function(){return destroyEach}),n.d(t,"createFragment",function(){return createFragment}),n.d(t,"createElement",function(){return createElement}),n.d(t,"createSvgElement",function(){return createSvgElement}),n.d(t,"createText",function(){return createText}),n.d(t,"createComment",function(){return createComment}),n.d(t,"addListener",function(){return addListener}),n.d(t,"removeListener",function(){return removeListener}),n.d(t,"setAttribute",function(){return setAttribute}),n.d(t,"setXlinkAttribute",function(){return setXlinkAttribute}),n.d(t,"getBindingGroupValue",function(){return getBindingGroupValue}),n.d(t,"toNumber",function(){return toNumber}),n.d(t,"timeRangesToArray",function(){return timeRangesToArray}),n.d(t,"children",function(){return children}),n.d(t,"claimElement",function(){return claimElement}),n.d(t,"claimText",function(){return claimText}),n.d(t,"setInputType",function(){return setInputType}),n.d(t,"setStyle",function(){return setStyle}),n.d(t,"selectOption",function(){return selectOption}),n.d(t,"selectOptions",function(){return selectOptions}),n.d(t,"selectValue",function(){return selectValue}),n.d(t,"selectMultipleValue",function(){return selectMultipleValue}),n.d(t,"linear",function(){return linear}),n.d(t,"generateRule",function(){return generateRule}),n.d(t,"hash",function(){return hash}),n.d(t,"wrapTransition",function(){return wrapTransition}),n.d(t,"transitionManager",function(){return r}),n.d(t,"noop",function(){return noop}),n.d(t,"assign",function(){return assign});var r={running:!1,transitions:[],bound:null,stylesheet:null,activeRules:{},add:function(e){this.transitions.push(e),this.running||(this.running=!0,requestAnimationFrame(this.bound||(this.bound=this.next.bind(this))))},addRule:function(e,t){this.activeRules[t]||(this.activeRules[t]=!0,this.stylesheet.insertRule("@keyframes "+t+" "+e,this.stylesheet.cssRules.length))},next:function(){this.running=!1;for(var e=window.performance.now(),t=this.transitions.length;t--;){var n=this.transitions[t];n.program&&e>=n.program.end&&n.done(),n.pending&&e>=n.pending.start&&n.start(n.pending),n.running?(n.update(e),this.running=!0):n.pending||this.transitions.splice(t,1)}if(this.running)requestAnimationFrame(this.bound);else if(this.stylesheet){for(var t=this.stylesheet.cssRules.length;t--;)this.stylesheet.deleteRule(t);this.activeRules={}}},deleteRule:function(e,t){e.style.animation=e.style.animation.split(", ").filter(function(e){return e.slice(0,t.length)!==t}).join(", ")}},i={},o={},a={},s={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount},c={destroy:destroyDev,get:get,fire:fire,observe:observeDev,on:onDev,set:setDev,teardown:destroyDev,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount}}]);